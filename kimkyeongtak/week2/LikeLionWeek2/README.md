도메인 모델 패턴 (Domain Model Pattern)

도메인 모델 패턴은 비즈니스 로직을 도메인 객체 내부에 캡슐화하여 설계하는 객체 지향적인 소프트웨어 설계 방식이다. 이 패턴에서는 객체가 자신의 상태(state)와 행위(behavior)를 함께 가지며, 현실 세계의 개념을 코드로 자연스럽게 표현할 수 있다. 복잡한 비즈니스 규칙을 구조화하고 재사용 가능하게 만드는 데 강점을 가진다.

예를 들어 은행 계좌 시스템을 설계한다고 했을 때, BankAccount라는 클래스는 자신의 잔액(balance) 상태를 가지고 있으며, 입금(deposit)과 출금(withdraw) 같은 행위는 이 클래스 내부에서 수행된다. 사용자는 계좌 객체에게 메시지를 보내는 방식으로 로직을 실행하게 된다 (account.withdraw(1000)처럼).

도메인 모델 패턴의 가장 큰 장점은 객체 지향의 원칙을 충실히 따르며, 시스템 확장과 유지보수에 유리하다는 점이다. 캡슐화, 추상화, 책임 분리를 잘 지킬 수 있기 때문에 테스트도 용이하고, 로직이 도메인 객체 내에 응집되어 있어서 추적과 수정이 쉽다.

하지만 반면에 구현 난이도가 높고, 설계 초기부터 객체 모델을 정확하게 잡아야 하므로 학습 곡선이 있으며, 단순한 CRUD 중심 시스템에서는 오히려 과한 설계가 될 수 있다. 이 패턴은 복잡한 규칙과 비즈니스 흐름이 있는 도메인 중심 시스템, 예를 들어 쇼핑몰, 금융 시스템, ERP 등에 적합하다.

ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ

트랜잭션 스크립트 패턴 (Transaction Script Pattern)

트랜잭션 스크립트 패턴은 비즈니스 로직을 서비스 계층에서 절차적으로 처리하는 방식의 소프트웨어 설계 패턴이다. 하나의 요청 단위를 처리하는 서비스 메서드에 필요한 로직을 순차적으로 나열하며, 도메인 객체는 주로 데이터 구조(data holder)의 역할만 수행한다.

예를 들어 계좌 이체 로직을 BankService라는 클래스에서 처리한다고 가정했을 때, 해당 서비스 메서드는 송신 계좌와 수신 계좌를 데이터베이스에서 조회하고, 잔액을 검증한 뒤 각각의 잔액을 수정하고 저장하는 모든 과정을 한 곳에서 순서대로 처리한다. 이 과정에서 Account 객체는 단순히 잔액을 담고 있는 데이터 역할만 수행한다.

트랜잭션 스크립트 패턴의 장점은 구현이 쉽고, 구조가 단순하여 빠르게 개발할 수 있다는 점이다. 초기 설계 부담이 적고, 팀원 간 공유도 쉬워 빠른 프로토타입 개발이나 단순한 시스템에 적합하다.

하지만 로직이 분산되지 않고 한 곳에 몰려 있기 때문에 중복이 발생하기 쉽고, 시스템이 커질수록 유지보수가 어려워질 수 있다. 또한 객체 지향의 장점을 충분히 살리기 어려우며, 테스트가 어려워지는 단점도 있다. 이 패턴은 단순 CRUD 기반의 웹 애플리케이션, 사내 관리 시스템, 내부용 백오피스 등에서 자주 사용된다.